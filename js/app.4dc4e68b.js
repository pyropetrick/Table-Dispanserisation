(function(){"use strict";var e={214:function(e,t,s){var r=s(9242),o=s(3396);const a=e=>((0,o.dD)("data-v-0d148c3c"),e=e(),(0,o.Cn)(),e),i={class:"app"},n=a((()=>(0,o._)("h1",null,"Таблица диспансеризации 2023",-1)));function d(e,t,s,r,a,d){const l=(0,o.up)("the-table"),u=(0,o.up)("the-list-diseases");return(0,o.wg)(),(0,o.iD)("div",i,[n,(0,o.Wm)(l),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>d.openListDiseases&&d.openListDiseases(...e)),class:"btn-open"},"Список заболеваний"),e.getModal.listDiseases?((0,o.wg)(),(0,o.j4)(u,{key:0})):(0,o.kq)("",!0)])}var l=s(65),u=s(7139);const c={class:"table"},v=["id","onClick"],h=["id"];function y(e,t,s,r,a,i){const n=(0,o.up)("the-modal-form"),d=(0,o.up)("the-modal-warning");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("table",c,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.headingNames,(e=>((0,o.wg)(),(0,o.iD)("th",{key:e,class:"table__heading"},(0,u.zw)(e),1)))),128))]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.getRow,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{class:"table__row",key:e,id:t,onClick:e=>i.deleteRow(t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:e,id:t,class:"table__slot"},(0,u.zw)(e.value),9,h)))),128))],8,v)))),128))]),(0,o._)("button",{class:"btn-add-row",onClick:t[0]||(t[0]=(...e)=>i.addNewRow&&i.addNewRow(...e))},"Добавить новую строку "),e.getModal.form?((0,o.wg)(),(0,o.j4)(n,{key:0})):(0,o.kq)("",!0),e.getModal.warning?((0,o.wg)(),(0,o.j4)(d,{key:1,text:"Вы действительно хотите удалить строчку?"})):(0,o.kq)("",!0)],64)}function p(e,t,s,a,i,n){const d=(0,o.up)("the-modal");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{type:"text",name:"fullName","onUpdate:modelValue":t[0]||(t[0]=t=>e.fullName=t),class:"modal__input",placeholder:"Введите ФИО"},null,512),[[r.nr,e.fullName]]),(0,o.wy)((0,o._)("input",{type:"text",name:"diagnosis","onUpdate:modelValue":t[1]||(t[1]=t=>e.diagnos=t),class:"modal__input",placeholder:"Введите Диагноз"},null,512),[[r.nr,e.diagnos]]),(0,o.wy)((0,o._)("input",{type:"text",name:"date","onUpdate:modelValue":t[2]||(t[2]=t=>e.date=t),class:"modal__input",placeholder:"Введите Месяц.Год(формат - 07.22) постановки на учет"},null,512),[[r.nr,e.date]]),(0,o._)("button",{class:"modal__btn-add",onClick:t[3]||(t[3]=(...e)=>n.addNewHuman&&n.addNewHuman(...e))},"Добавить человека ")])),_:1})}s(7658);function m(e,t,s,r,o=48){const a=[];while(t<24){if(!o)break;o--;let r=e+s;e+=s,e>36?(t++,e-=36,r=e):e>24?(t++,e-=24,r=e):e>12&&(t++,e-=12,r=e),23===t&&a.push(r)}return r.push(a)}function w(e,t,s){for(let r=1;r<=12;r++)e.flatMap((e=>e)).find((e=>r===e))?t.push({value:s}):t.push({});return t}function b(e,{doctorExam:t,surveys:s,end:r},{everySurvey:o,everyExam:a}){const i=[],n=e.split(".");let d=+n[0],l=+n[1];const u=[];return m(d,l,t,i,r),m(d,l,s,i,r),w(i,u,a,r).forEach(((e,t)=>{i[1].find((e=>e===t+1))&&(e.value+=` , ${o}`)})),u}function _(){switch(this.diagnos){case"АГ":this.period.doctorExam=3,this.period.surveys=24,this.survey={everyExam:"Измерение АД",everySurvey:"ЭКГ , ОАК, ОАМ, БАК(холестерин, триглицериды, липопротеины), ЭХО-КГ"};break;case"Пневмония":this.period.doctorExam=1,this.period.end=6,this.period.surveys=3,this.survey={everyExam:"Термометрия, осмотр",everySurvey:"Спирометрия, ОАК, пневмотахометрия, анализ мокроты(при ее наличии)"};break;case"Хронический бронхит":this.period.doctorExam=3,this.period.surveys=6,this.survey={everyExam:"Термометрия, спирометрия",everySurvey:"ОАК, ОАМ, ЭКГ"};break;case"Хронический тонзиллит":this.period.doctorExam=6,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"ОАК, ОАМ",everySurvey:"БАК(СРБ), диафенилаланиновая проба, ЭКГ"};break;case"БА":this.period.doctorExam=3,this.period.surveys=6,this.period.end=36,this.survey={everyExam:"Спирометрия",everySurvey:"ПОС, ЭКГ"};break;case"Острый гастрит":this.period.doctorExam=1,this.period.surveys=1,this.period.end=2,this.survey={everyExam:"Осмотр",everySurvey:"анализ кала на яйца глистов и простейшие, на скрытую кровь и дизентерийную группу, исследование желудочной секреции"};break;case"Хронический гастрит(нед. секреция)":this.period.doctorExam=6,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"Осмотр, контроль массы тела, ОАК",everySurvey:"ОАМ, анализ кала на яйца глистов 3-5 раз подряд, копрограмма"};break;case"Хронический гастрит(сохр. секреция)":this.period.doctorExam=6,this.period.surveys=12,this.period.end=24,this.survey={everyExam:"Осмотр, контроль массы тела",everySurvey:"ОАК,ОАМ, анализ кала на яйца глистов, скрытую кровь, копрограмма, исследование жел. секреции"};break;case"ЯБ":this.period.doctorExam=6,this.period.surveys=12,this.period.end=24,this.survey={everyExam:"Осмотр, ОАК, анализ кала на скрытую кровь, яйца глистов, контроль ИМТ",everySurvey:"ФГДС с биопсией на H.Pylori(если есть показания)"};break;case"Ожирение":this.period.doctorExam=6,this.period.surveys=12,this.period.end=24,this.survey={everyExam:"Осмотр, контроль массы тела",everySurvey:"ОАК, ОАМ, ЭКГ, сахар крови, липидный обмен, тест толерантности к глюкозе"};break;case"Острый пиелонефрит":this.period.doctorExam=2,this.period.surveys=6,this.period.end=24,this.survey={everyExam:"Осмотр, измерение АД, ОАМ",everySurvey:"ОАК, Нечипоренко, конс. нефролога; ЭКГ, холестерин и креатинин(раз в год)"};break;case"Хронический пиелонефрит":this.period.doctorExam=3,this.period.surveys=6,this.period.end=60,this.survey={everyExam:"Осмотр, измерение АД, ОАМ",everySurvey:"Нечипоренко, кровь на ост. азот, белковые фракции."};break;case"Острый гломерулонефрит":this.period.doctorExam=2,this.period.surveys=6,this.period.end=24,this.survey={everyExam:"Осмотр, измерение АД, ОАМ",everySurvey:"ОАК, Нечипоренко, конс. нефролога; ЭКГ, холестерин и креатинин(раз в год)"};break;case"Хронический гломерулонефрит":this.period.doctorExam=3,this.period.surveys=6,this.period.end=60,this.survey={everyExam:"Осмотр, измерение АД",everySurvey:"ОАМ, ОАК, конс. нефролога"};break;case"Анемия":this.period.doctorExam=3,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"Осмотр",everySurvey:"ОАК с формулой, свободный гемоглобин"};break;case"Васкулиты":this.period.doctorExam=6,this.period.surveys=12,this.period.end=36,this.survey={everyExam:"Осмотр",everySurvey:"ОАК с формулой, ОАМ, кровь на свертываемость"};break;case"Геморрой":this.period.doctorExam=6,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"Осмотр",everySurvey:"ОАК, ОАМ. Ректороманоскопия(по показаниям)"};break;case"Варикоз":this.period.doctorExam=6,this.period.surveys=12,this.period.end=24,this.survey={everyExam:"Осмотр, ОАК",everySurvey:"ОАМ, УЗИ вен конечностей"};break;case"Эндоартериит":this.period.doctorExam=6,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"Осмотр, ОАК",everySurvey:"ОАМ, УЗИ (по показаниям)"};break;case"МКБ":this.period.doctorExam=6,this.period.surveys=12,this.period.end=36,this.survey={everyExam:"Осмотр, ОАК, ОАМ",everySurvey:"При наличии камня ежемесячные ОАМ, уролог"};break;case"Хронический отит":this.period.doctorExam=6,this.period.surveys=6,this.period.end=12,this.survey={everyExam:"Осмотр, ОАК, ОАМ",everySurvey:""};break;case"ИБС":this.period.doctorExam=3,this.period.surveys=12,this.survey={everyExam:"ЭКГ, измерение АД",everySurvey:"ЭКГ с физнагрузкой, ОАК, ОАМ, БАК, ЭХО-КГ"};break;case"Хронический аллергический риносинусит":this.period.doctorExam=6,this.period.surveys=12,this.period.end=60,this.survey={everyExam:"Осмотр",everySurvey:"ОАК, ОАМ"};break}}const f=({key:e,value:t})=>localStorage.setItem(e,JSON.stringify(t)),E=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):void 0;var g={name:"TheModalForm",components:{},data:()=>({fullName:"",diagnos:"",date:"",period:{doctorExam:0,surveys:0},survey:null}),methods:{...(0,l.nv)(["setModalVisible","setDataRow","setRow"]),addNewHuman(){const e={value:this.fullName},t={value:this.diagnos};_.call(this);const s=b.call(this,this.date,this.period,this.survey);this.setDataRow([e,t,...s]),this.setRow(this.getRowData),f({key:"patients",value:this.getRow}),this.setModalVisible({value:!1,name:"form"})}},computed:{...(0,l.Se)(["getRowData","getRow"])}},x=s(89);const k=(0,x.Z)(g,[["render",p],["__scopeId","data-v-cdf43b64"]]);var R=k;const D={class:"modal__text"},S={class:"modal__btns"};function M(e,t,s,r,a,i){const n=(0,o.up)("the-modal");return(0,o.wg)(),(0,o.j4)(n,null,{default:(0,o.w5)((()=>[(0,o._)("p",D,(0,u.zw)(s.text),1),(0,o._)("div",S,[(0,o._)("button",{class:"modal__btn-cancel btn",onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e))},"Cancel"),(0,o._)("button",{class:"modal__btn-delete btn",onClick:t[1]||(t[1]=(...e)=>i.deleteThisRow&&i.deleteThisRow(...e))},"Delete")])])),_:1})}var T={name:"TheModalWarning",props:["text"],computed:{...(0,l.Se)(["getCurrentIndex","getRow"])},methods:{...(0,l.nv)(["setModalVisible","deleteRow"]),closeModal(){this.setModalVisible({value:!1,name:"warning"})},deleteThisRow(){this.deleteRow(this.getCurrentIndex),f({key:"patients",value:this.getRow}),this.closeModal()}}};const C=(0,x.Z)(T,[["render",M],["__scopeId","data-v-43ce6383"]]);var I=C,O={name:"TheTable",components:{TheModalForm:R,TheModalWarning:I},data:()=>({headingNames:["ФИО","Диагноз","Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]}),methods:{...(0,l.nv)(["setModalVisible","setCurrentIndex"]),addNewRow(){this.setModalVisible({value:!0,name:"form"})},deleteRow(e){this.setModalVisible({value:!0,name:"warning"}),this.setCurrentIndex(e)}},computed:{...(0,l.Se)(["getModal","getRow"])}};const N=(0,x.Z)(O,[["render",y],["__scopeId","data-v-33d89d42"]]);var V=N;const j=e=>((0,o.dD)("data-v-cd21ba5e"),e=e(),(0,o.Cn)(),e),W={class:"list-diseases"},H=j((()=>(0,o._)("tr",null,[(0,o._)("th",null," Название заболеваний ")],-1))),L={class:"list-diseases__disease"};function A(e,t,s,r,a,i){const n=(0,o.up)("the-modal");return(0,o.wg)(),(0,o.j4)(n,null,{default:(0,o.w5)((()=>[(0,o._)("table",W,[H,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.listDiseases,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e,class:"list-diseases__row"},[(0,o._)("td",L,(0,u.zw)(e),1)])))),128))])])),_:1})}var Z={name:"TheListDiseases",data:()=>({listDiseases:["АГ","Пневмония","Хронический бронхит","Хронический тонзиллит","БА","Острый гастрит","Хронический гастрит(нед. секреция)","Хронический гастрит(сохр. секреция)","ЯБ","Ожирение","Острый пиелонефрит","Хронический пиелонефрит","Острый гломерулонефрит","Хронический гломерулонефрит","Анемия","Васкулиты","Геморрой","Варикоз","Эндоартериит","МКБ","Хронический отит","ИБС","Хронический аллергический риносинусит"]})};const U=(0,x.Z)(Z,[["render",A],["__scopeId","data-v-cd21ba5e"]]);var Y=U,z={name:"App",components:{TheTable:V,TheListDiseases:Y},computed:{...(0,l.Se)(["getModal"])},methods:{...(0,l.nv)(["setRow","setModalVisible"]),openListDiseases(){this.setModalVisible({value:!0,name:"listDiseases"})}},mounted(){E("patients")&&E("patients").forEach((e=>this.setRow(e)))}};const K=(0,x.Z)(z,[["render",d],["__scopeId","data-v-0d148c3c"]]);var q=K,F=(0,l.MT)({state:{modalVisible:{form:!1,warning:!1,listDiseases:!1},currentRowIndex:null,rows:[],rowData:[]},getters:{getModal:e=>e.modalVisible,getCurrentIndex:e=>e.currentRowIndex,getRow:e=>e.rows,getRowData:e=>e.rowData},mutations:{SET_MODAL:(e,{value:t,name:s})=>"object"===typeof s?s.forEach((s=>e.modalVisible[s]=t)):e.modalVisible[s]=t,SET_CURRENT_INDEX:(e,t)=>e.currentRowIndex=t,SET_ROW:(e,t)=>e.rows.push(t),SET_ROW_DATA:(e,t)=>e.rowData=t,DELETE_ROW:(e,t)=>{e.rows.splice(t,1)}},actions:{setModalVisible:({commit:e},t)=>e("SET_MODAL",t),setCurrentIndex:({commit:e},t)=>e("SET_CURRENT_INDEX",t),setRow:({commit:e},t)=>e("SET_ROW",t),setDataRow:({commit:e},t)=>e("SET_ROW_DATA",t),deleteRow:({commit:e},t)=>e("DELETE_ROW",t)},modules:{}});const P={class:"modal"};function J(e,t,s,r,a,i){return(0,o.wg)(),(0,o.j4)(o.lR,{to:"body"},[(0,o._)("div",{class:"modal__background",onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e))}),(0,o._)("div",P,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])}var X={name:"TheModal",methods:{...(0,l.nv)(["setModalVisible"]),closeModal(){this.setModalVisible({value:!1,name:["form","warning","listDiseases"]})}}};const $=(0,x.Z)(X,[["render",J],["__scopeId","data-v-1d8f826e"]]);var B=$;const G=(0,r.ri)(q);G.component("TheModal",B),G.use(F),G.mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,a){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var n=!0,d=0;d<r.length;d++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[d])}))?r.splice(d--,1):(n=!1,a<i&&(i=a));if(n){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],n=r[1],d=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(d)var u=d(s)}for(t&&t(r);l<i.length;l++)a=i[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunktabl_dispanser"]=self["webpackChunktabl_dispanser"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(214)}));r=s.O(r)})();
//# sourceMappingURL=app.4dc4e68b.js.map